# AI 책장 관리 시스템 (AI-Librarian)

개인이 소장한 실물 책장의 사진을 찍어, AI를 통해 책 제목을 자동으로 인식하고 디지털 라이브러리를 구축 및 관리할 수 있는 안드로이드 애플리케이션입니다.

## 1. 프로젝트 개요

넘쳐나는 실물 책을 체계적으로 관리하고 싶지만, 수작업으로 목록을 만드는 데 어려움을 겪는 사용자들을 위해 개발되었습니다. 사용자는 책장 사진 업로드만으로 간편하게 자신의 서재를 데이터베이스화하고, 언제 어디서든 스마트폰으로 소장 도서를 확인하고 검색할 수 있습니다.

이 프로젝트는 **객체 인식(Object Detection)**과 **광학 문자 인식(OCR)** AI 모듈을 핵심으로, 이를 실제 사용자가 쓸 수 있는 서비스로 만들기 위한 **백엔드 서버, 데이터베이스, 안드로이드 앱**을 통합 개발하는 것을 목표로 합니다.

## 2. 주요 기능

- **사용자별 데이터 관리:** 사용자별로 독립된 책장 정보를 저장하고 관리합니다.
- **책장 신규 등록:** 책장의 이름과 실제 크기(행/열)를 지정하여 새로운 가상 책장을 생성합니다.
- **AI 기반 자동 도서 인식:**
    - 책장 각 칸의 사진을 업로드하면, 서버에서 **YOLOv8-OBB 모델**이 개별 책등을 탐지합니다.
    - 탐지된 책등 이미지는 **Naver Clova OCR API**를 통해 세로 방향의 책 제목을 텍스트로 변환합니다.
    - 탐지된 모든 책의 정보는 즉시 데이터베이스에 저장됩니다.
- **이미지 기반 책장 조회:**
    - 사용자가 등록한 책장 목록을 한눈에 볼 수 있습니다.
    - 특정 책장을 선택하면, 등록 당시의 **실제 사진**이 담긴 그리드 뷰를 통해 직관적으로 책장 내용을 확인할 수 있습니다.
- **도서 정보 수정:** OCR 결과가 부정확할 경우, 사용자가 직접 각 책의 제목을 수정하여 DB에 최종 정보를 업데이트할 수 있습니다.
- **보유 도서 전체 검색:** 사용자가 소유한 모든 책을 대상으로 키워드 검색을 수행하여, 원하는 책의 위치(책장, 칸)를 빠르게 찾아줍니다.
- **CSV 파일 내보내기:** 특정 책장의 전체 도서 목록을 CSV(엑셀) 파일로 생성하고, 서버에 저장하여 데이터를 외부에서 활용할 수 있도록 합니다.

## 3. 시스템 아키텍처

본 프로젝트는 3-Tier 아키텍처를 기반으로 설계되었습니다.
```
+--------------------------------+
|       Android App (Client)     |
| (Java, Retrofit, Glide)        |
+--------------------------------+
             ^
             | HTTP (RESTful API)
             v
+--------------------------------+
|      Flask Server (Backend)    |
| (Python, YOLO, OCR, Oracle)    |
+--------------------------------+
             ^
             | DB Connection
             v
+--------------------------------+
|        Oracle DB (Database)    |
+--------------------------------+
```


## 4. 사용된 기술 스택

#### Backend
- Python 3.x
- Flask
- `oracledb` (Oracle DB Connector)
- `ultralytics` (YOLOv8)
- `opencv-python`
- `konlpy`, `rapidfuzz` (OCR 결과 보정)

#### Android App (Frontend)
- Java
- Android SDK
- Retrofit2 (REST API 통신)
- GSON (JSON 파싱)
- Glide (이미지 로딩)

#### Database
- Oracle Database

#### AI Models & API
- Custom Trained YOLOv8-OBB Model
- Naver Clova OCR API


## 5. API 엔드포인트 명세
| Method | Endpoint | Description |
| :--- | :--- | :--- |
| `POST` | `/shelf-upload` | 새 책장 정보와 셀 이미지들을 업로드하고, AI 처리 후 DB에 저장 |
| `GET` | `/bookshelves/{user_id}` | 특정 사용자의 모든 책장 목록 조회 |
| `GET` | `/shelf-details/{shelf_id}` | 특정 책장의 상세 내용 (셀 이미지 URL, 책 정보) 조회 |
| `POST` | `/books/update` | 책 제목 수정 후, 변경사항을 DB에 일괄 업데이트 |
| `GET` | `/search-books/{user_id}` | 사용자의 모든 책을 대상으로 키워드 검색 |
| `POST` | `/upload-booklist` | 책 목록이 담긴 CSV 파일을 서버에 업로드 |


## 6. 프로젝트 회고 및 느낀점

팀장 및 시스템 통합 담당자로서 프로젝트를 진행하며 겪었던 어려움과, 이를 통해 얻은 교훈을 기술 보고서 내용을 바탕으로 상세히 정리했습니다.

### 협업 및 프로젝트 관리

* **소통 방식의 중요성:** 프로젝트 초반, 팀원 간 의견 차이를 설득하는 과정의 어려움으로 인해 의사소통을 최소화하고 각자의 역할에 집중하는 방식을 택했습니다. 하지만 이 방식은 결국 프로젝트 후반부에 이전 문제들까지 얽힌 더 큰 문제들을 수면 위로 드러나게 만들었습니다. 이 경험을 통해, 아무리 어렵더라도 지속적으로 소통하는 것이 장기적으로는 오히려 소통 비용을 줄이고 프로젝트가 잘못되는 것을 막는다는 귀중한 교훈을 얻었습니다.

* **시간 관리 및 문제 해결:** 특정 기능에 문제가 발생했을 때, 다 함께 해결하기보다 모듈 담당자에게 해결을 일임하는 방식으로 진행했습니다. 이는 학기말 다른 과제 마감 기한과 겹치면서, 시스템 통합 과정에서의 시간 관리 실패로 이어졌고 결국 팀원 전체의 불편을 초래했습니다.

### 기술 및 시스템 설계

* **통합 시스템 개발의 복잡성:** 기존에는 단일 환경에서의 개발에 익숙했지만, 이번 프로젝트를 통해 서버(Flask), 앱(Android), DB(Oracle)라는 세 개의 다른 플랫폼을 유기적으로 연동하는 복잡성을 처음 경험했습니다. 특히, 다른 팀원들이 개발한 AI 모듈을 서버에 탑재하고 앱과 연결하는 과정에서, 다른 사람의 코드를 이해하고 전체 시스템 관점에서 구조를 파악하는 능력의 중요성을 배웠습니다.

* **초기 설계의 한계:**
    * **안드로이드 아키텍처:** Android Studio 개발 경험 부족으로, 초기에는 대부분의 기능을 `MainActivity.java` 파일 하나에 집중적으로 구현했습니다. 이로 인해 프로젝트 후반에 기능별 분리의 필요성을 인지했음에도, 기존 코드의 높은 의존성 때문에 구조를 개선하는 데 어려움을 겪었습니다.
    * **데이터 구조 설계:** 기획 변경에 유연하게 대처할 수 있는 데이터 구조를 초기에 설계하지 못했습니다. 이로 인해 나중에 데이터 구조 변경이 필요해졌을 때, 관련된 수많은 코드를 수정해야 하는 비효율이 발생했습니다.

이러한 경험들을 통해, 초기 설계 단계부터 유연한 변경 가능성을 고려하고, 각 모듈의 통합성을 염두에 둔 긴밀한 협의가 성공적인 프로젝트의 필수 요소임을 절실히 깨달았습니다.
